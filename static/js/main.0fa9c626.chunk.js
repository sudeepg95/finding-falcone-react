(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{0:function(e,t){e.exports=React},1:function(e,t,n){"use strict";n.d(t,"s",(function(){return"SUCCESS_DEFAULT"})),n.d(t,"f",(function(){return"FAILURE_DEFAULT"})),n.d(t,"m",(function(){return"planets/LOAD_DATA_BUNCH"})),n.d(t,"o",(function(){return"planets/LOAD_DATA_BUNCH_SUCCESS"})),n.d(t,"n",(function(){return"planets/LOAD_DATA_BUNCH_FAILURE"})),n.d(t,"d",(function(){return"planets/CLEAR_DATA_BUNCH"})),n.d(t,"p",(function(){return"vehicles/LOAD_DATA_BUNCH"})),n.d(t,"r",(function(){return"vehicles/LOAD_DATA_BUNCH_SUCCESS"})),n.d(t,"q",(function(){return"vehicles/LOAD_DATA_BUNCH_FAILURE"})),n.d(t,"e",(function(){return"vehicles/CLEAR_DATA_BUNCH"})),n.d(t,"j",(function(){return"outcome/LOAD_DATA_ITEM"})),n.d(t,"l",(function(){return"outcome/LOAD_DATA_ITEM_SUCCESS"})),n.d(t,"k",(function(){return"outcome/LOAD_DATA_ITEM_FAILURE"})),n.d(t,"g",(function(){return"outcome/FETCH_RESULT"})),n.d(t,"i",(function(){return"outcome/FETCH_RESULT_SUCCESS"})),n.d(t,"h",(function(){return"outcome/FETCH_RESULT_FAILURE"})),n.d(t,"c",(function(){return"outcome/CLEAR_CHOICES"})),n.d(t,"a",(function(){return"outcome/SELECT_FIRST_DATA_ITEM"})),n.d(t,"b",(function(){return"outcome/SELECT_SECOND_DATA_ITEM"}))},14:function(e,t){e.exports=ReactDOM},19:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"fetchPlanetsData",(function(){return i})),n.d(r,"clearPlanetItems",(function(){return s}));var c={};n.r(c),n.d(c,"fetchVehiclesData",(function(){return d})),n.d(c,"clearVehicleItems",(function(){return O}));var o={};n.r(o),n.d(o,"selectPlanet",(function(){return j})),n.d(o,"selectVehicle",(function(){return E})),n.d(o,"fetchToken",(function(){return P})),n.d(o,"findFalcone",(function(){return D})),n.d(o,"clearOutcome",(function(){return w}));var a=n(1),u="https:",l="".concat("https://\ufb01ndfalcone.herokuapp.com","/planets");function i(){return{types:[a.m,a.o,a.n],promise:function(e){return e.get("".concat(u).concat(l))}}}function s(){return{type:a.d}}var p="https:",f="".concat("https://\ufb01ndfalcone.herokuapp.com","/vehicles");function d(){return{types:[a.p,a.r,a.q],promise:function(e){return e.get("".concat(p).concat(f))}}}function O(){return{type:a.d}}var m=n(6);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y="https:",v="".concat("https://\ufb01ndfalcone.herokuapp.com","/token"),g="".concat("https://\ufb01ndfalcone.herokuapp.com","/find");function j(e){return{type:a.a,result:h({},e)}}function E(e,t){return{type:a.b,result:{planet:h({},t),vehicle:h({},e)}}}function P(){return{types:[a.j,a.l,a.k],promise:function(e){return e.post("".concat(y).concat(v),{})}}}function D(){return{types:[a.g,a.i,a.h],promise:function(e,t){var n=t.outcome,r=n.token,c=n.selectedPlanets,o=n.selectedVehicles,a={token:r,planet_names:c.map((function(e){return e.name})),vehicle_names:Object.values(o).map((function(e){return e.name}))};return e.post("".concat(y).concat(g),a)}}}function w(){return{type:a.c}}n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return o}))},54:function(e,t,n){e.exports=n(77)},77:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),o=n(14),a=n.n(o),u=n(15),l=n(12),i=n(27),s=n(28),p=n(30),f=n(29),d=n(31),O=n(6),m=n(7),b=n(18),h=function(e){return c.a.createElement(b.a,{path:e.path,render:function(t){return c.a.createElement(e.component,Object.assign({},t,{routes:e.routes}))}})},y=function(e){var t=e.routes;return c.a.createElement(c.a.Fragment,null,c.a.createElement(b.c,null,t.map((function(e,t){return c.a.createElement(h,Object.assign({key:t},e))}))))},v=[{path:"/solve(/select-planets)?",exact:!0,component:c.a.lazy((function(){return Promise.all([n.e(1),n.e(28)]).then(n.bind(null,90))}))},{path:"/solve/select-vehicles",component:c.a.lazy((function(){return n.e(29).then(n.bind(null,91))}))},{path:"/solve/outcome",component:c.a.lazy((function(){return n.e(34).then(n.bind(null,92))}))},{path:"/solve/*",component:c.a.lazy((function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,89))}))}],g=function(){var e={"/solve/select-planets":"Select Planets","/solve/select-vehicles":"Select Vehicles","/solve/outcome":"Outcome"}[window.location.pathname];return c.a.createElement("div",{className:"box"},c.a.createElement("div",{className:"title-box"},e),c.a.createElement("div",{className:"box-content"},c.a.createElement(y,{routes:v})))},j=[{path:"/",exact:!0,component:c.a.lazy((function(){return Promise.all([n.e(1),n.e(35)]).then(n.bind(null,87))}))},{path:"/solve",component:g},{path:"/help",component:c.a.lazy((function(){return n.e(32).then(n.bind(null,88))}))},{path:"*",component:c.a.lazy((function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,89))}))}],E=n(19);n(60);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(n,!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=c.a.lazy((function(){return n.e(33).then(n.bind(null,83))})),A=c.a.lazy((function(){return Promise.all([n.e(0),n.e(36)]).then(n.bind(null,84))})),_=c.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(31)]).then(n.bind(null,85))})),S=c.a.lazy((function(){return Promise.all([n.e(0),n.e(30)]).then(n.bind(null,86))})),T=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.planet.loading,n=e.vehicle.loading,r=e.outcome.loading,o=t||n||r,a=["app"];return o&&a.push("loader-active"),c.a.createElement(c.a.Fragment,null,c.a.createElement(c.a.Suspense,{fallback:c.a.createElement("div",null,"Loading...")},c.a.createElement("div",{className:a.join(" ")},c.a.createElement(_,null),c.a.createElement(A,null,c.a.createElement(y,{routes:j})),c.a.createElement(S,null)),c.a.createElement(w,{show:o})))}}]),t}(c.a.PureComponent),C=Object(b.f)(Object(l.c)((function(e){return{planet:e.planet,vehicle:e.vehicle,outcome:e.outcome}}),(function(e){return{actions:Object(m.b)(D({},E.b,{},E.c,{},E.a),e)}}))(T)),k=n(48),L=n.n(k),U=n(49),I=n(50),R=(n(51),n(42)),N=n(52),F=n(53),V=n(1);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(n,!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(c){if("function"===typeof c)return c(n,r);var o=c.promise,a=c.types,u=Object(F.a)(c,["promise","types"]);if(!o)return t(c);var l=Object(N.a)(a,3),i=l[0],s=l[1],p=void 0===s?V.s:s,f=l[2],d=void 0===f?V.f:f;t(x({},u,{type:i}));var O=o(e,x({},r()));return O.then((function(e){if(e&&e.data&&e.status&&200===e.status)t(x({},u,{result:e.data,type:p}));else if(e&&e.data&&e.data.message){var n={message:e.data.message};t(x({},u,{error:n,type:d}))}else{t(x({},u,{error:{message:"Unexpected error occured, try again later"},type:d}))}}),(function(e){e.message="Unexpected error occured, try again later",t(x({},u,{error:e,type:d}))})).catch((function(e){console.error("MIDDLEWARE ERROR:",e)})),O}}}}var B=n(9),M=Object(B.a)({basename:"/finding-falcone-react"});function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(n,!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y={planets:[],loading:null,error:""},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V.m:return J({},e,{planets:[],loading:!0,error:""});case V.o:return J({},e,{planets:t.result||[],loading:!1});case V.n:return J({},e,{loading:!1,error:t.error.message});case V.d:return J({},e,{planets:[]});default:return e}};function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(n,!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q={vehicles:[],selectedVehicles:[],loading:null,error:""},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V.p:return K({},e,{vehicles:[],selectedVehicles:[],loading:!0});case V.r:return K({},e,{vehicles:t.result||[],loading:!1});case V.q:return K({},e,{loading:!1,error:t.error.message});case V.e:return K({},e,{vehicles:[],selectedVehicles:[]});default:return e}},Z=n(17);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(n,!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te={selectedPlanets:[],selectedVehicles:{},token:null,loading:null,aftermath:null,totalTime:0,error:""},ne=function(e,t){var n=Object(Z.a)(t),r=t.findIndex((function(t){return t.name===e.name}));return r>-1?(n.splice(r,1),Object(Z.a)(n)):t.length<4?[].concat(Object(Z.a)(t),[ee({},e)]):Object(Z.a)(t)},re=function(e,t){var n=0;return e.forEach((function(e){var r=t[e.name]?t[e.name].speed:Number.POSITIVE_INFINITY;n+=e.distance/r})),n},ce=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case V.j:return ee({},t,{token:null,loading:!0,error:""});case V.l:return ee({},t,{token:(e=n.result||[]).token,loading:!1});case V.k:return ee({},t,{loading:!1,error:n.error.message});case V.c:return ee({},t,{selectedPlanets:[],selectedVehicles:{},token:null,aftermath:null});case V.a:e=n.result||{name:"",distance:0};var r=ne(e,t.selectedPlanets);return ee({},t,{selectedPlanets:r});case V.b:var c=(e=n.result||{planet:{},vehicle:{}}).planet.name||"",o=e.vehicle||{},a=ee({},t.selectedVehicles),u=Object.values(a).map((function(e){return e.name})).filter((function(e){return e===o.name})).length;return(u+1<=o.total_no||a[c]&&a[c].name===o.name)&&(a[c]=o),ee({},t,{selectedVehicles:a,totalTime:re(t.selectedPlanets,a)});case V.g:return ee({},t,{aftermath:null,loading:!0,error:""});case V.i:return ee({},t,{aftermath:e=n.result||[],loading:!1});case V.h:return ee({},t,{loading:!1,error:n.error.message});default:return t}},oe=Object(m.c)({planet:W,vehicle:X,outcome:ce,router:Object(u.b)(M)}),ae=function(e,t){return"DESTROY_SESSION"===t.type&&(e=void 0),oe(e,t)},ue=L.a.create({baseURL:"https://\ufb01ndfalcone.herokuapp.com",withCredentials:!1,headers:{Accept:"application/json"}}),le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{logger:!0},t=[],n=[I.a,Object(R.a)(M),U.a,z(ue)];e.logger;var r=m.d.apply(void 0,[m.a.apply(void 0,n)].concat(t)),c=Object(m.e)(ae,r);return{store:c,history:M}}(),ie=le.store,se=le.history;console.log("".concat("0.0.1",":").concat("Production")),a.a.render(c.a.createElement(l.a,{store:ie},c.a.createElement(u.a,{history:se,basename:"/finding-falcone-react"},c.a.createElement(C,null))),document.getElementById("root"))}},[[54,27,0,4,16,6,7,5,14,17,15,20,23,26,8,9,10,11,12,13,19,21,18,22,24,25]]]);
//# sourceMappingURL=main.0fa9c626.chunk.js.map